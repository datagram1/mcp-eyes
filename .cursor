# Cursor AI Directives for MCP-Eyes Project

## File Organization Rules

### Test and Debug Files
- All files beginning with "test-" or "debug-" should be automatically moved to the TMP directory
- This includes test files, debug scripts, and temporary development files
- The TMP directory structure should be:
  - TMP/test/ - for all test-* files
  - TMP/debug/ - for all debug-* files
  - TMP/screenshots/ - for test screenshots and debug images

### README Files
- All README files except the main README.md should be automatically moved to the README directory
- Only README.md should remain in the root directory
- Additional documentation files should be organized in README/ directory
- The README directory structure should be:
  - README/ - for all additional README files and documentation
  - README.md - main project README (stays in root)

### File Naming Conventions
- Test files: test-*.js, test-*.ts
- Debug files: debug-*.js, debug-*.ts
- Temporary files: tmp-*.js, tmp-*.ts
- README files: *README*.md (except main README.md)

### Automatic Actions
When creating new files:
1. If filename starts with "test-" → move to TMP/test/
2. If filename starts with "debug-" → move to TMP/debug/
3. If filename starts with "tmp-" → move to TMP/
4. If filename matches "*README*.md" and is not "README.md" → move to README/
5. Update package.json scripts to reference new locations
6. Update any import/require statements in existing code

### Development Workflow
- Test files in TMP/test/ can still be run via npm scripts
- Debug files in TMP/debug/ are for development only
- Screenshots and temporary outputs go to TMP/screenshots/
- Additional documentation goes to README/ directory
- Keep main source code in src/ directory clean
- Main README.md stays in root for GitHub display

### Package Scripts
Update package.json to include:
- "test": "node TMP/test/test.js"
- "test:all": "node TMP/test/test-all-versions.js"
- "test:cross-platform": "node TMP/test/test-cross-platform.js"
- "debug": "node TMP/debug/debug-*.js"

### Directory Structure
```
mcp-eyes/
├── README.md (main README - stays in root)
├── README/ (additional documentation)
│   ├── ENHANCED_README.md
│   ├── CROSS_PLATFORM_README.md
│   └── [other README files]
├── TMP/ (test and debug files)
│   ├── test/
│   ├── debug/
│   └── screenshots/
├── src/ (source code)
└── dist/ (built files)
```

This ensures test, debug, and documentation files are organized but still accessible for development.

## MCP Eyes Logging Directive

### LOG FILE LOCATION

**CRITICAL**: The MCP-eyes log file is ALWAYS located at:
```
~/.mcp-eyes/mcp_eyes.log
```

### LOG READING STRATEGY

When asked to "read the log file" or "check for errors" in MCP-eyes:

1. **File Path**: Always use `~/.mcp-eyes/mcp_eyes.log`
2. **Reading Strategy**: Read the END of the file (last 50-100 lines) rather than the entire file
3. **Time-based Analysis**: Look for the most recent session entries with timestamps
4. **Error Detection**: Focus on ERROR, WARN, or CRITICAL log levels in recent entries

### EFFICIENT LOG ANALYSIS

- Use `tail -n 100 ~/.mcp-eyes/mcp_eyes.log` to get recent entries
- Look for timestamp patterns to identify session boundaries
- Focus on entries from the current day or most recent session
- Check for error patterns, stack traces, or failure indicators

### COMMON LOG PATTERNS TO WATCH FOR

- `ERROR:` - Critical issues requiring attention
- `WARN:` - Potential problems or deprecated usage
- `CRITICAL:` - System-level failures
- Stack traces or exception details
- Connection failures or timeout errors
- Permission denied errors

### IMPLEMENTATION NOTES

- The log file uses structured logging with timestamps
- Each session typically starts with initialization messages
- Error patterns often include context about which MCP tool failed
- Recent entries are most relevant for troubleshooting current issues

**REMEMBER**: Always check `~/.mcp-eyes/mcp_eyes.log` when debugging MCP-eyes issues, and read from the end of the file to get the most recent session data.
